pipeline {
    agent any
    parameters {
        string(name: 'APPLICATION', defaultValue: 'MyApp', description: 'Application name')
        text(name: 'VERSION', defaultValue: '1.0.3', description: 'Application version')
        choice(name: 'ACTIVITY', choices: ['BUILD', 'UT', 'QA', 'SECU', 'DEPLOY', 'PERF'], description: 'Build activity')
        choice(name: 'STATUS', choices: ['', 'PENDING', 'DONE', 'UNSTABLE', 'FAIL'], description: 'Activity result')
    }
    stages {
        stage('Report') {
            steps {
                echo "Application: ${params.APPLICATION}"
                echo "Version: ${params.VERSION}"
                echo "Activity: ${params.ACTIVITY}"
                echo "Status: ${params.STATUS}"
                reportBuildActivity(applicationName: "${params.APPLICATION}", applicationVersion: "${params.VERSION}", activity: "${params.ACTIVITY}", status: "${params.STATUS}")
            }
        }
    }
}